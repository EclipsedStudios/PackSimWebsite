{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Iwolf/Documents/Github/PackSim/draftapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Iwolf/Documents/Github/PackSim/draftapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Iwolf/Documents/Github/PackSim/draftapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SetSelection(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),selectedSet=_useState2[0],setSelectedSet=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),selectedSetCode=_useState4[0],setSelectedSetCode=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isShowingClose=_useState6[0],setIsShowingClose=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),setCodes=_useState8[0],setSetCodes=_useState8[1];useEffect(function(){function getSets(){return _getSets.apply(this,arguments);}function _getSets(){_getSets=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,setArray;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('https://api.scryfall.com/sets');case 3:response=_context.sent;setArray=response.data.data.filter(function(set){return set.set_type==='core'||set.set_type==='expansion';}).map(function(set){return[set.name,set.code];});setSetCodes(setArray);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return _getSets.apply(this,arguments);}getSets();},[]);var handleChange=function handleChange(event){setSelectedSet(event.target.value);setSelectedSetCode(setCodes[event.target.selectedIndex-1][1]);};var handleSubmit=function handleSubmit(){if(selectedSetCode){props.onStartOpen(selectedSetCode,selectedSet);setIsShowingClose(true);}else{alert('Please select a set');}};var handleClose=function handleClose(){if(selectedSetCode){props.onClosePack();setIsShowingClose(false);}else{alert('Please select a set');}};return/*#__PURE__*/_jsx(\"div\",{className:\"Buttons\",children:isShowingClose?/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mainButtons\",onClick:handleClose,children:\"Clear\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"prePackCSS\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mainButtons\",onClick:handleSubmit,children:\"Open a Pack!\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Select a Set:\",/*#__PURE__*/_jsxs(\"select\",{value:selectedSet,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--Select a set--\"}),setCodes.map(function(set,index){return/*#__PURE__*/_jsx(\"option\",{value:set[0],children:set[0]},index);})]})]})]})});}export default SetSelection;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","SetSelection","props","_useState","_useState2","_slicedToArray","selectedSet","setSelectedSet","_useState3","_useState4","selectedSetCode","setSelectedSetCode","_useState5","_useState6","isShowingClose","setIsShowingClose","_useState7","_useState8","setCodes","setSetCodes","getSets","_getSets","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","setArray","wrap","_callee$","_context","prev","next","get","sent","data","filter","set","set_type","map","name","code","t0","console","error","stop","handleChange","event","target","value","selectedIndex","handleSubmit","onStartOpen","alert","handleClose","onClosePack","className","children","type","onClick","onChange","index"],"sources":["C:/Users/Iwolf/Documents/Github/PackSim/draftapp/src/components/SetSelection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\nfunction SetSelection(props) {\r\n  const [selectedSet, setSelectedSet] = useState('');\r\n  const [selectedSetCode, setSelectedSetCode] = useState('');\r\n  const [isShowingClose, setIsShowingClose] = useState(false);\r\n  const [setCodes, setSetCodes] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function getSets() {\r\n      try {\r\n        const response = await axios.get('https://api.scryfall.com/sets');\r\n\r\n        const setArray = response.data.data.filter(set => set.set_type === 'core' || set.set_type === 'expansion').map(set => [set.name, set.code]);\r\n        setSetCodes(setArray);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }\r\n\r\n    getSets();\r\n  }, []);\r\n\r\n\r\n  const handleChange = (event) => {\r\n    setSelectedSet(event.target.value);\r\n    setSelectedSetCode(setCodes[event.target.selectedIndex - 1][1]);\r\n  }\r\n\r\n  const handleSubmit = () => {\r\n    if (selectedSetCode) {\r\n      props.onStartOpen(selectedSetCode, selectedSet);\r\n      setIsShowingClose(true);\r\n    } else {\r\n      alert('Please select a set');\r\n    }\r\n  }\r\n  \r\n  const handleClose = () => {\r\n    if (selectedSetCode) {\r\n      props.onClosePack();\r\n      setIsShowingClose(false);\r\n    } else {\r\n      alert('Please select a set');\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <div className=\"Buttons\">\r\n        {isShowingClose ? (<button type=\"submit\" className=\"mainButtons\" onClick={handleClose}>Clear</button>) :\r\n        (<div className='prePackCSS'>\r\n          <button type=\"submit\" className=\"mainButtons\" onClick={handleSubmit}>Open a Pack!</button>\r\n          <label >\r\n          Select a Set:\r\n            <select value={selectedSet} onChange={handleChange}>\r\n              <option value=\"\">--Select a set--</option>\r\n              {setCodes.map((set, index) => (\r\n                <option key={index} value={set[0]}>{set[0]}</option>\r\n              ))}\r\n            </select>\r\n        </label>\r\n        </div>)}\r\n    </div>\r\n  );\r\n  \r\n}\r\n\r\nexport default SetSelection;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}